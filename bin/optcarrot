#!/bin/sh

cargo install --path monoruby
rbenv local 3.4-dev

ruby -v
ruby ../optcarrot/bin/optcarrot -b ../optcarrot/examples/Lan_Master.nes
echo

ruby -v --yjit
ruby --yjit ../optcarrot/bin/optcarrot -b $1  ../optcarrot/examples/Lan_Master.nes
echo

rbenv local truffleruby+graalvm-24.0.1
ruby -v
ruby ../optcarrot/bin/optcarrot -b $1  ../optcarrot/examples/Lan_Master.nes
echo

rbenv local truffleruby-24.0.1
ruby -v
ruby ../optcarrot/bin/optcarrot -b $1  ../optcarrot/examples/Lan_Master.nes
echo
rbenv local 3.3.0

monoruby -v
monoruby ../optcarrot/bin/optcarrot -b $1  ../optcarrot/examples/Lan_Master.nes

